<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>	
	<title>Cloudify - XAP on Cloudify Part 1</title>
	<script src="//cdn.optimizely.com/js/59503762.js"></script>
	<link rel="stylesheet" href="/css/template.css" type="text/css"/>	
	<link rel="canonical" href="http://www.cloudifysource.org/2013/10/11/xap_on_cloudify_part_1.html"/>	
	<link rel="stylesheet" href="/css/jquery-ui-1.8.17.custom.css" type="text/css" media="all"/>
	<link rel="stylesheet" type="text/css" href="/scripts/prettify/prettify.css">		
	<link rel="stylesheet" type="text/css" href="/scripts/lightbox/jquery.lightbox-0.5.css" media="screen" />	
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
	
	    <script src="/scripts/jquery-1.7.1.js" type="text/javascript"></script>
    <script src="/scripts/jquery.zrssfeed.min.js" type="text/javascript"></script>
    <script src="/scripts/jquery.vticker.js" type="text/javascript"></script>
	
	
	<!-- Add fancyBox -->
	<link rel="stylesheet" href="/scripts/fancyBox/source/jquery.fancybox.css?v=2.1.3" type="text/css" media="screen" />
	<script type="text/javascript" src="/scripts/fancyBox/source/jquery.fancybox.pack.js?v=2.1.3"></script>
	
	<!-- Optionally add helpers - button, thumbnail and/or media -->
	<link rel="stylesheet" href="/scripts/fancyBox/source/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen" />
	<script type="text/javascript" src="/scripts/fancyBox/source/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
	<script type="text/javascript" src="/scripts/fancyBox/source/helpers/jquery.fancybox-media.js?v=1.0.5"></script>
	
	<link rel="stylesheet" href="/scripts/fancyBox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen" />
	<script type="text/javascript" src="/scripts/fancyBox/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
	
	
		
	
	
	
	
	<!--<script type="text/javascript" src="/scripts/jquery-1.6.4.js"></script>-->
	<script type="text/javascript" src="/scripts/search.js"></script>
	<script type="text/javascript" src="/scripts/jquery-ui-1.8.17.custom.min.js"></script>
	<!--<script type="text/javascript" src="/scripts/jquery.prettyPhoto.js"></script>-->
	<script type="text/javascript" src="/scripts/prettify/prettify.js"></script>
	<script type="text/javascript" src="/scripts/easySlider1.7.js"></script>
	<script type="text/javascript" src="/scripts/version.data.js"></script>
	<script type="text/javascript" src="/scripts/version.js"></script>
	<script type="text/javascript" src="/scripts/jquery.lightbox-0.5.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"></script>	
	<script type="text/javascript" src="/scripts/mathCaptcha/jquery.ebcaptcha.js"></script>
	

<script type="text/javascript" >
//Manage Downloads Gating;
//========================================//
var gotName = false;
var gotValidCaptcha = false;
var downloadHref="";
var strVar="";
var formEmail="";
var formName="";

strVar += "<div class=\"gattingWrapper\">";
strVar += "           <form id=\"regiterToDownload\" action=\"https:\/\/www.salesforce.com\/servlet\/servlet.WebToLead?encoding=UTF-8\" method=\"POST\">";
strVar += "			<div class=\"regTitle\">Verify You're Human<\/div>";
strVar += "			<div style=\"position:relative\">";
strVar += "				<input  id=\"last_name\" name=\"last_name\" type=\"text\" class=\"cuInput\" placeholder=\"Your Name\" \/>";
strVar += "				<div class=\"cuValid\"><\/div>";
strVar += "			<\/div>";
strVar += "			<div style=\"position:relative\">";
strVar += "				<input  id=\"email\" name=\"email\"  type=\"text\"  placeholder=\"Your Email\"\/>";
strVar += "				<div class=\"cuValid\"><\/div>";
strVar += "			<\/div>";
//strVar += "	   		 <div class=\"captcha\">";
//strVar += "	    	    <div class=\"capSmallText\">Enter the number below: <\/div>";
//strVar += "		    	<input type=\"hidden\" value=\"701469\" id=\"verifyNumHiddenGat\" name=\"verifyNumHidden\" \/>";
//strVar += "		    	<input type=\"text\" id=\"enterVerifyGat\" name=\"enterVerify\" \/>";
//strVar += "		    <div id=\"verifyNumGat\"><\/div>";
//strVar += "		    <\/div>";
strVar += "			<input type=\"submit\" class=\"cuSendGatting\" name=\"submit\" value=\"Download\" \/>";
strVar += "			<\/form>";
strVar += "            <a class=\"gattingWrapperClose\" href=\"#\">Close<\/a>";
strVar += "        <\/div>";

//Global Function for use;
function checkValidCaptcha(){
		
		//if($('#enterVerifyGat').val() == $('#verifyNumHiddenGat').val() ) {
			//$('form').attr('action', 'https://example.com/MyForm');
		//	gotValidCaptcha = true;
		//	return true;
		//}
		if(gotValidCaptcha==true){
			return true;
		}
		else
		{
		//	alert("Please Enter Correct Verification Number");
		//	randomgenGat();
		//	$('#enterVerifyGat').select();
		//	$('#enterVerifyGat').focus();
			return false;
		}
}

// captcha Code
	function randomgenGat(){
    	var rannumber='';
		for(ranNum=1; ranNum<=6; ranNum++){
			rannumber+=Math.floor(Math.random()*10).toString();
		}
		$('#verifyNumGat').html(rannumber);
		$('#verifyNumHiddenGat').val(rannumber);
	}
	
 //Contact captcha Code
	
	function randomgen(){
    	var rannumber='';
		for(ranNum=1; ranNum<=6; ranNum++){
			rannumber+=Math.floor(Math.random()*10).toString();
		}
		$('#verifyNum').html(rannumber);
		$('#verifyNumHidden').val(rannumber);
	}

//============== Added By Yonatan (4hilton) at 10/2013  ==========================//
</script>

<script type="text/javascript" >
function GrabOldMessages(){
(function($,W,D)
{
    var JQUERY4U = {};

    JQUERY4U.UTIL =
    {
        setupFormValidation: function()
        {
            //form validation rules
			    $("#contactUs").validate({
                rules: {
                    last_name: "required",
                    email: {
                        required: true,
                        email: true
                    },
                },
                messages: {
                    last_name: "Please enter your first name",
                    email: "Please enter a valid email address",
                },
                submitHandler: function(form) {
                    form.submit();
                }
            });
			
			//$('li.download').on("submit", "#regiterToDownload", function() {
			   $("#regiterToDownload").validate({
                rules: {
                    last_name: "required",
                    email: {
                        required: true,
                        email: true
                    },
                },
                messages: {
                    last_name: "Please enter your first name",
                    email: "Please enter a valid email address",
                },
               submitHandler: function(form) {
                    //form.submit();
				    //downloadFile(e);
					gotName = true;
					checkValidCaptcha();
				if (gotName==true && gotValidCaptcha==true ){
				//track mixpanel
				var verName="";
				verName=downloadHref.split("/")[6]; 
				//track google and mixpanel 
				track_download(downloadHref);
				$('.gattingWrapper').remove();
				$(".blockBg").hide();
				setTimeout(function() {
					window.location.href = downloadHref; 
					setTimeout(function() {
						window.location.href = "/thank_you.htm";
					}, 4000);
				}, 500);
				}

				function track_download(downloadHref) {
				var downloadme=downloadHref.split("cloudify-")[1];
				downloadme="/downloads/cloudify-" + downloadme.split("\.zip")[0] + "/get_cloudify";
				_gaq.push(['_trackPageview', downloadme]);
				//track mixpanel
				var zipName="";
				zipName=downloadHref.split("/")[6]; 
				mixpanel.track('GA Product Download', {'Zip Name':zipName, 'Source':'cloudifysource.org'});
				
				formEmail =  $(".gattingWrapper #email").val();	
				formName =  $(".gattingWrapper #last_name").val();	
				mixpanel.name_tag(formName);
				mixpanel.people.identify(formEmail);
				mixpanel.people.set({
                "resource": zipName, // sets the property 'Resource' for this user to the boolean value true		
				$email: formEmail,
				$first_name: formName,
				$created: new Date(),
				$last_seen:new Date(),
				});
				mixpanel.track('Resource', {'Zip Name':zipName, 'Source':'Download Page'});
				mixpanel.people.increment({
					"Number Of Downloads": 1
				}); 
				
				}	
					
					
					
                }
            });
        }
    }

    //when the dom has loaded setup form validation rules
    $(D).ready(function($) {
        JQUERY4U.UTIL.setupFormValidation();
		randomgen();
		
  //start captcha Code
  $('#regiterToDownload').ebcaptcha();

//Validation Starts Here    
	$('#contactUs').submit(function() {
		if($('#enterVerify').val() == $('#verifyNumHidden').val() ) {
			//$('form').attr('action', 'https://example.com/MyForm');
			return true;
		}
		else
		{
			alert("Please Enter Correct Verification Number");
			randomgen();
			$('#enterVerify').select();
			$('#enterVerify').focus();
			return false;
		}
	});
	$('#regiterToDownload').submit(function() {
		checkValidCaptcha();
	});
	
	
	
	
	$("input.cuSend,input.cuSendGatting").click(function(){
			$('.cuValid').hide();
	});
	
	

		       
    });

})(jQuery, window, document);
}
</script>
<script type="text/javascript">
    $(window).bind("load", function () {
        //rss feed slider						
        $('.tumblrFeed').rssfeed('http://cloudifysource.tumblr.com/rss', {}, function (e) {
            $(e).find('div.rssBody').vTicker({ showItems: 1 });
        });
    });                                
</script>
<script type="text/javascript">
	window.onload = function () {
		$('body').addClass("bodyClass");	
 	}
	
	$(function(){ 
	GrabOldMessages();
	//map lightbox on participate page
	//$('a.showmap').click(function(){
		
	//});
	
	//for lightbox 
	$('.fancybox-media').fancybox({
	openEffect	: 'elastic',
    	closeEffect	: 'elastic',

    		helpers : {
    		title : {type : 'inside'},
		media : {}
    	}
	});

	
	$('a.lightbox').fancybox();
	
	
	
	$('.showmap').lightBox();
	//popup contact form
		$("li.contactUs,div.contactUsWrapper").mouseenter(function(){
			$("div.contactUsWrapper").css("visibility","visible");
			$("a.contactUsLink").css("visibility","hidden");
		});
		$("input.cuSend,input.cuSendGatting").click(function(){
			$('.cuValid').hide();
		});
		$("input.cuSend").submit(function(){
			$("div.contactUsWrapper").css("visibility","hidden")
			$("a.contactUsLink").css("visibility","visible");
	
		});
		$("a.contactUsWrapperClose").click(function(){
				$("div.contactUsWrapper").css("visibility","hidden")
				$("a.contactUsLink").css("visibility","visible");
			});	
	//end popup contact form
		$("div.expand").hide();
		
		
		$("li.expandBtn").click(function(){	
			$(this).next("div.expand").slideToggle(500);
			if($(this).html()=="More..."){
				$(this).html("Less...");	
			}else{
				$(this).html("More...");
			}
		});
		
	   /* ------------- added by Yaron/modified by Shlomo ------------ */
		$("#closeBut").parent().hide();
		$("#values").hide();
		$("span.pln, span.kwd").hover(function(eventObject){
			var keys = {"name":true, "provider":true, "user":true, "value":true};
			var currKey = $(eventObject.currentTarget).text().trim();
			if (keys[currKey]) {
				var prevKey = $(eventObject.currentTarget).prevUntil("span.pun:contains('{')").last().prev().prev("span.pln").text().trim() ? $(eventObject.currentTarget).prevUntil("span.pun:contains('{')").last().prev().prev("span.pln").text().trim() : $(eventObject.currentTarget).prev().prev("span.pln").text().trim();
				currKey = prevKey + "_" + currKey;
			}
			if (messages[currKey]) {
				var tooltip = $(".overlay"),
					position = $(eventObject.currentTarget).offset();
				$(this).css({"background-color":"#CECECE", "cursor" : "help"});
				var message = messages[currKey].split("::"); console.log(message);
				$("#desc",tooltip).text(message[0].trim());
				if (message[1] && message[1].trim().toLowerCase() == "required") {
					$("#required").prev().show();
					$("#required").show();
					$("#required").next().show();
					$("#required").css("color", "red");
					$("#required").text("Required");
				} else {
					$("#required").prev().hide();
					$("#required").hide();
					$("#required").next().hide();
				}
				tooltip.show().offset({ top: position.top + tooltip.scrollTop() - 50, left: position.left + 100});
				$("#tipImg").position();
			}}, function(){
				$(".overlay").offset({top:0,left:0}).hide();
				$(this).css("background-color","transparent");
		});
	});
	
	</script>
	
		
	




	<script type="text/javascript" src="/scripts/cloudify_default.js"></script>
	<script type="text/javascript">

   var _gaq = _gaq || [];
   _gaq.push(['_setAccount', 'UA-31930048-1']);
   _gaq.push(['_trackPageview']);

   (function() {
	   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
   })();

</script>
	<script type="text/javascript">
 var _gauges = _gauges || [];
(function() {
		var t   = document.createElement('script');
		t.type  = 'text/javascript';
		t.async = true;
		t.id    = 'gauges-tracker';
		t.setAttribute('data-site-id', '4fd5058b613f5d712200004f');
		t.src = '//secure.gaug.es/track.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(t, s);
})();
</script> 
	<!--start Mixpanel-->
<script type="text/javascript">
    (function(c,a){window.mixpanel=a;var b,d,h,e;b=c.createElement("script");
    b.type="text/javascript";b.async=!0;b.src=("https:"===c.location.protocol?"https:":"http:")+
    '//cdn.mxpnl.com/libs/mixpanel-2.1.min.js';d=c.getElementsByTagName("script")[0];
    d.parentNode.insertBefore(b,d);a._i=[];a.init=function(b,c,f){function d(a,b){
    var c=b.split(".");2==c.length&&(a=a[c[0]],b=c[1]);a[b]=function(){a.push([b].concat(
    Array.prototype.slice.call(arguments,0)))}}var g=a;"undefined"!==typeof f?g=a[f]=[]:
    f="mixpanel";g.people=g.people||[];h=['disable','track','track_pageview','track_links',
    'track_forms','register','register_once','unregister','identify','name_tag',
    'set_config','people.identify','people.set','people.increment'];for(e=0;e<h.length;e++)d(g,h[e]);
    a._i.push([b,c,f])};a.__SV=1.1;})(document,window.mixpanel||[]);
    mixpanel.init("96365f48f34c41c7b91e045b4f48d53d");




//mixpanel global page tracking:
//mixpanel.track_forms('#ki_form', 'Qualaroo');
mixpanel.track('Cloudify Community Page Views', {'page name' : document.title, 'url' : window.location.pathname});  
$(function(){ 
    // This sends us an event every time a user clicks the button
	$("a.hp-btn-getCloudify").click(function() {
	    mixpanel.track("Get Cloudify Button Clicks",{'page name' : document.title, 'url' : window.location.pathname}); 
	});
	
	$("a.getCloudifyBtn").click(function() {
	    mixpanel.track("Home Page Download Button Clicks",{'page name' : document.title, 'url' : window.location.pathname}); 
	    mixpanel.track("Get Cloudify Button Clicks",{'page name' : document.title, 'url' : window.location.pathname}); 
	});	//Try It Now Click
	$("a.hp-tryItNow").click(function() {
	    mixpanel.track("Try it Now HP Button Clicks",{'page name' : document.title, 'url' : window.location.pathname}); 
	});
});


mixpanel.track_forms("#searchForm", "Search",{'page name' : document.title, 'url' :  window.location.pathname});
$(function(){ 
	$("#goBtn").click(function() {
		
	var value = $('#search').val();
	    mixpanel.track("Search",{"keyword": value}); 

	});
});

//track Cloudify Early Access Builds
//mixpanel.track_links("a.eaTitle", "Product Download - Early Access Builds", {'referrer': document.referrer });


// mixpanel- trakc only if email requested
var currEmail="";
$("body").live('change', function(){
 $("#ki_form").live('change', function(){
  if($("#ki_question_99437").length != 0) {
	currEmail =  $("input.ki_explain_small").val();	
	mixpanel.track_links("#ki_submit_button", "Qualaroo", function(ele) {
	 if($('input').hasClass('ki_explain_small')){
	  var currEmail =  $("input.ki_explain_small").val();	
	  mixpanel.name_tag(currEmail);
	  mixpanel.people.identify(currEmail);
	  mixpanel.people.set({
	  $email: currEmail,
	  $first_name: currEmail,
	  $created: new Date(),
	  $last_seen:new Date(),
	  });
	} return { type: $(ele).attr('type'),email: currEmail}
	});
  }
});

});

//
//$("#ki_submit_button").click(function() {

//if($('input').hasClass('ki_explain_small')){
 // var currEmail =  $("input.ki_explain_small").val();	
 // mixpanel.name_tag(currEmail);
 // mixpanel.people.identify(currEmail);
 // mixpanel.people.set({
 // $email: currEmail,
 // $first_name: currEmail,
//  });
//}
//});
</script>
	
	<script type="text/javascript">var _kiq = _kiq || [];</script>
<script type="text/javascript" src="//s3.amazonaws.com/ki.js/42111/87X.js" async="true"></script>
	
</head>

<body>
<a class="fork-guide" target="_blank" href="https://github.com/CloudifySource/cloudify"></a>
<div class="WrapperBg">    
    <div class="Wrapper">
        <div class="header">
    <div class="headersLinks">
        <ul>
           <li><img src="http://www.gigaspaces.com/sites/default/files/logo_jira_whitecopy.png" width="20"><a href="https://cloudifysource.atlassian.net" target="_blank">Report a Bug</a></li>
           <li class="sep">|</li>
            <li><a href="https://cloudifysource.zendesk.com/registration" target="_blank">Sign Up</a></li>
            <li class="sep">|</li>
            <li><a href="https://cloudifysource.zendesk.com/login" target="_blank" class="lock">Login</a></li>
            <li class="sep">|</li>
            <li class="contactUs"><a  class="contactUsLink" href="#" target="_blank">Contact Us</a></li>
        </ul>
        <div class="contactUsWrapper">
            <form id="contactUs" action="https://www.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8" method="POST">
            <input type=hidden name="oid" value="00D300000000KEt">
            <input type=hidden name="retURL" value="http://www.cloudifysource.org/thank_you_contact.htm">
            <input  id="first_name" name="first_name" type="hidden" />
            <input  id="last_name" name="last_name" type="text" class="cuInput" placeholder="Your Name"/>
            <span class="cuValid"></span>
            <input  id="email" name="email"  type="text"  placeholder="Your Email"/><br>
            <span class="cuValid"></span>
            <textarea  id="00N80000003kH4I" name="00N80000003kH4I" type="text" wrap="soft" placeholder="Your Message"></textarea>
 <input id="00N80000003kH2d" maxlength="50" name="00N80000003kH2d" size="20" type="text" value="CloudifySource Community Contact" style="display: none" />            
	   <!--Captcha-->
	    <div class="captcha">
	    	    <label>Enter the below number: </label>
		    <input type="hidden" value="701469" id="verifyNumHidden" name="verifyNumHidden" />
		    <input type="text" id="enterVerify" name="enterVerify" />
		    <div id="verifyNum"></div>
	    </div>
	    <!--Captcha-->
<input type="submit" class="cuSend" name="submit" value="Contact" />
            </form>
            <a class="contactUsWrapperClose" href="#">Close</a>
        </div>
    </div>



    <a class="logo" href="/"></a>
    <div class="clear"></div>
            <div class="topMenu">
                <ul class="_topmenu">
                    <li class="topmenuli"><a class="bgMenu1" href="http://forums.cloudifysource.org/forums"><span class="title1">Support Forums</span><span class="title2">Discuss & Suggest</span></a></li>
                    <li class="sep"></li>
                    <li class="topmenuli"><a class="bgMenu2" href="/guide/2.6/qsg/qsg"><span class="title1">Documentation</span><span class="title2">Learn</span></a></li>
                    <li class="sep"></li>
                    <li class="topmenuli"><a class="bgMenu3" href="/participate"><span class="title1">Events</span><span class="title2">Participate</span></a></li>
                    <li class="sep"></li>
                    <li class="topmenuli"><a class="bgMenu4" href="/blog"><span class="title1">Blog & Updates</span><span class="title2">Read</span></a></li>
                    <li class="sep"></li>
                    <li class="topmenuli"><a class="bgMenu5" href="/cloudifysourcetv"><span class="title1">Videos</span><span class="title2">Watch & Learn</span></a></li>
                    <li class="sep"></li>
                    <li class="topmenuli"><a class="bgMenu6" href="/how"><span class="title1">How It Works</span><span class="title2">Cloudify Architecture</span></a></li>

		</ul>
		<div class="clear"></div>
	</div>
</div>

<!-- Tooltip Container -->
<div class="overlay">
<div class="overlayFrame">
<div style="width:100%;height:25px;align:left;"><img src="/images/close.png" id="closeBut"/></div>
<div><span id="desc"></span><br/>
 <span id="required"></span><br/>
 <span id="values"></span>
 </div>
</div>
<img src="/images/box_edge.png" id="tipImg"/>  
</div>
<div class="clear"></div>

        <div class="contentWrap">            
			<div class="breadcrumbs">Home Page > Cloudify Blogs > XAP on Cloudify Part 1</div>
            <div class="clear"></div>

            <!--Search-->
			
            
 

<div class="learnFrom">
    <h2>Blog Posts and Updates</h2>

    <div class="searchWrap">
        <form id="searchForm" action="#" method="get">
            <input id="search" class="searchTxt" type="text" placeholder="Search..."/>
            <input id="goBtn" class="searchBtn" type="button" value="Go"/>
        </form>
    </div>
</div>
 
<div class="hp-right-col">
 		<a class="hp-btn-getCloudify" href="/downloads/get_cloudify">Get Cloudify!</a>
</div>




			
            <div class="content">
                <div id="alTag_LeftBlog" class="left">
                    
                    <!--Event groups-->



<div class="leftContentBox blogLeft-topTitle">
	<h3>Recent Posts</h3>
</div>


<div class="leftContentBox blogLeftBox"> 
   
	<a href="/2013/11/01/cloud_devops_orchestration.html">Cloud DevOps Orchestration 
	 <img class="noMargin" src="/images/arrow-right-blue.png" /></a><br />
	<span class="date">November  1, 2013</span>  
	<br/><br/>
  
	<a href="/2013/10/30/the_breakup_why_openstack_needs_a_native_alternative_to_cloudfoundry_and_openshift.html">The Breakup - Why OpenStack Needs a Native Alternative to CloudFoundry and Openshift 
	 <img class="noMargin" src="/images/arrow-right-blue.png" /></a><br />
	<span class="date">October 30, 2013</span>  
	<br/><br/>
  
	<a href="/2013/10/27/application_centric_approach_to_devops.html">An Application-Centric Approach to DevOps 
	 <img class="noMargin" src="/images/arrow-right-blue.png" /></a><br />
	<span class="date">October 27, 2013</span>  
	<br/><br/>
		
</div>

               <!--start -->
                 <div class="leftContentBox blogLeft-topTitle blog-left-title2 tumblr">
                        <h3>CloudifySource on Tumblr</h3>
                 </div>   
                <div class="leftContentBox tumblrFeed">                     
                
                </div>
<!--end-->


<div class="leftContentBox blogLeft-topTitle">
	<h3>Archived Posts</h3>
</div>

 <ul class="blog-archive-list">
 
 
	
	
	
	
	
	

	
<li><a href="/2013/11">November 2013</a> <span class="blue">(1)</span></li>

	

	
		
			
<li><a href="/2013/10">October 2013</a> <span class="blue">(4)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2013/09">September 2013</a> <span class="blue">(3)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2013/08">August 2013</a> <span class="blue">(2)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2013/07">July 2013</a> <span class="blue">(3)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2013/06">June 2013</a> <span class="blue">(1)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2013/05">May 2013</a> <span class="blue">(4)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2013/04">April 2013</a> <span class="blue">(3)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2013/03">March 2013</a> <span class="blue">(4)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2013/02">February 2013</a> <span class="blue">(1)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2013/01">January 2013</a> <span class="blue">(1)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		

<li><a href="/2012/12">December 2012</a> <span class="blue">(3)</span></li>

		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/11">November 2012</a> <span class="blue">(2)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/10">October 2012</a> <span class="blue">(5)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/09">September 2012</a> <span class="blue">(2)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/08">August 2012</a> <span class="blue">(3)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/07">July 2012</a> <span class="blue">(5)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/06">June 2012</a> <span class="blue">(3)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/05">May 2012</a> <span class="blue">(6)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/03">March 2012</a> <span class="blue">(3)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/02">February 2012</a> <span class="blue">(1)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/01">January 2012</a> <span class="blue">(2)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		

<li><a href="/2011/11">November 2011</a> <span class="blue">(1)</span></li>

		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2011/10">October 2011</a> <span class="blue">(1)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2011/09">September 2011</a> <span class="blue">(1)</span></li>

			
		
	

	
	
	
	
	
	

	

	

	





 
 </ul>

                </div>

                <!--Start left content -->

                <div id="resultsDiv" class="DocumentsWrap"></div>
                <div id="pageContent" class="DocumentsWrapRight">
                    <h1 class="pageTitle">XAP on Cloudify Part 1</h1>
					 
					  <span class="blogPostInfo">Posted By: <a href="#">DeWayne Filppi</a>  on October 11, 2013  
					  </span>
					  <br/><br/><br/>
					 
                    <div class="entry"><p><strong>Introduction</strong></p>
<p>GigaSpaces <span class="caps">XAP</span> has lacked an official Cloudify recipe for some time now, and this series of posts will address my efforts to create one. The task of automating the deployment and management of the potentially complex suite of services that <span class="caps">XAP</span> represents is a challenge in and of itself, and marrying that with the sometimes overlapping constructs of Cloudify is even more challenging. This post will address the rationale for the effort, a bit of history of the effort, and a description of the recipes as they exist today. This is a work in progress, and all interested in contributing are encouraged to contribute.</p>
<p><strong>Rationale</strong></p>
<p>There are many use cases for automating the deployment and management of <span class="caps">XAP</span> using Cloudify constructs. A few:</p>
<ul><li><strong>Repeatable deployments</strong>. This is one of the standard Cloudify (and devops) virtues. Repeatable, automated deployments are less error prone and convenient.</li>
<li><strong>Platform independence</strong>. A Cloudify recipe serves as platform (in the infrastructure sense) independent description of deployment and configuration steps. A <span class="caps">XAP</span> recipe for Cloudify provides repeatable deployment on any Cloud and on non-virtual (or statically created virtual) hardware.</li>
<li><strong>Composition</strong>. While it is conceivable to have a complete solution implemented entirely in <span class="caps">XAP</span>, in reality this is rare. <span class="caps">XAP</span> is generally married at least to a database, and almost always part of a stack where it takes the position of traditional middleware. With a Cloudify recipe, the deployment and management of an entire stack which includes <span class="caps">XAP</span>, can be automated.</li>
<li><strong>Continuous Delivery</strong>. A stack including <span class="caps">XAP</span> that is automated via Cloudify can expose CI/CD meaningful remote commands that can provide stack-wide delivery functionality by integrating with popular CI build tools via a common interface.</li>
<li><strong>Custom scaling behavior</strong>. By scaling using Cloudify rather than the <span class="caps">XAP</span> <span class="caps">ESM</span>, <span class="caps">XAP</span> scaling and rebalancing can be fully customized.</li>
<li><strong>Improved dynamism</strong>. By describing a complete stack that includes <span class="caps">XAP</span>, the ability to scale dynamically in a holistic fashion is greatly increased. A classic example is exploiting public cloud capacity during volume spikes. With a <span class="caps">XAP</span> recipe, entire <span class="caps">XAP</span>-centric stacks can be spun up on demand, or in anticipation of demand.</li>
<li><strong>Derived works</strong>. By descriping <span class="caps">XAP</span> in a recipe, the door is opened a bit to create derived cloud services based on <span class="caps">XAP</span>, such as Grid as a Service, and Replication as a Service, among others. &nbsp;The recipes are designed to be easily inherited from to support such development.</li>
</ul>
<p><br/>
<p><strong>Using The Recipes</strong></p><br />
<p>Currently, you can grab the recipes from my fork of the cloudify-recipes repo <a href="https://github.com/dfilppi/cloudify-recipes" title="dfilppi cloudify-recipes fork" onclick="javascript:pageTracker._trackPageview('/outgoing/github.com/dfilppi/cloudify-recipes');">here</a>. The service recipes are under <code>services/xap9x</code>. A simple application recipe is also available that starts a single container at <code>apps/xap9x-tiny</code>.</p><br />
<p>The <code>xap9x-tiny</code> application will run without modification or reconfiguration. It uses a <span class="caps">XAP</span> 9.6 b9500 distribution and only deploys a single container, so no license is required (at least as currently configured). If you want to experiment with more nodes, or larger containers, you&#8217;ll have to provide a license key. This key will need to be set to the <code>license</code> property in both management and container recipes properties files. If you have your own <span class="caps">XAP</span> distribution you want to use, you&#8217;ll need to put it an <span class="caps">HTTP</span> server in a place accessible from your target infrastructure. Then you&#8217;ll need to modify the related properties in both management and container recipes.</p><br />
<p>Besides the license key, there are settings that may need to be tweaked to run a larger grid. For larger containers, you&#8217;ll possibly need to use a different machine template (perhaps 8GB or beyond system memory). To do this, you&#8217;ll need to create a machine template that refers to the proper cloud machine id, or ip address in the case of <span class="caps">BYON</span>. The easiest way to do this is to copy the default &#8220;SMALL_LINUX&#8221; or &#8220;SMALL_UBUNTU&#8221; into a separate file, modify the <code>hardwardId</code> to use the larger machine, and then add this to Cloudify via the &#8220;add-templates&#8221; <span class="caps">CLI</span> <a href="http://www.cloudifysource.org/guide/2.6/recipe/command_line_reference#add_templates" title="add-templates" onclick="javascript:pageTracker._trackPageview('/outgoing/www.cloudifysource.org/guide/2.6/recipe/command_line_reference#add_templates');">command</a>. Of course you can simply add this template permanently to your *-cloud.groovy script. Once you have your larger machine, you&#8217;ll need to utilize it. The container recipe has a property setting named <code>gsc_jvm_options</code>, which are passed to the container when it starts. These settings are simply passed to the associated <span class="caps">GSC</span> in the GSC_JAVA_OPTIONS environment variable (described <a href="http://wiki.gigaspaces.com/wiki/display/XAP96/The+Grid+Service+Container" title="GSC_JAVA_OPTIONS" onclick="javascript:pageTracker._trackPageview('/outgoing/wiki.gigaspaces.com/wiki/display/XAP96/The+Grid+Service+Container');">here</a>).</p><br />
<p>When a cluster becomes large enough, the management machine may also need to be beefed up. &nbsp;The management recipe has three settings for tailoring the various JVMs, and their function is equivalent to the <code>gsc_jvm_options</code>. They are:</p><br />
<ul><li>gsm_jvm_options</li><li>lus_jvm_options</li><li>webui_jvm_options</li></ul></p>
<p>To access the <span class="caps">XAP</span> Web UI after launching, the management service has a link to it in the &#8220;Details&#8221; area.</p>
<p><em>Custom Commands</em></p>
<p>Some basic custom commands are included:</p>
<dl>
<dt><strong>deploy-pu</strong> &ndash; deploy a processing unit</dt>
<dd>Parameters:<p></p>
<ul>
<li>name &ndash; the displayed name of the processing unit</li>
<li>url &ndash; the <span class="caps">URL</span> where the pu can be downloaded from (recipe uses http <span class="caps">GET</span>)</li>
<li>schema &ndash; the space schema for the pu. Defaults to partitioned-sync2backup.</li>
<li>partitions &ndash; primary partition count</li>
<li>backups &ndash; number of backups per partition. Can be 0.</li>
<li>maxpervm &ndash; maximum instances per container VM (not Cloud VM).</li>
<li>maxpermachine &ndash; maximum instances per physical machine or Cloud VM.</li>
</ul>
</dd>
</dl>
<dl>
<dt><strong>deploy-grid</strong> &ndash; deploy a space</dt>
<dd>Parameters:<p></p>
<ul>
<li>name &ndash; the name of the space</li>
<li>schema &ndash; the space schema. Defaults to partitioned-sync2backup.</li>
<li>partitions &ndash; primary partition count</li>
<li>backups &ndash; number of backups per partition. Can be 0.</li>
<li>maxpervm &ndash; maximum instances per container VM (not Cloud VM).</li>
<li>maxpermachine &ndash; maximum instances per physical machine or Cloud VM.</li>
</ul>
</dd>
</dl>
<dl>
<dt><strong>undeploy-grid</strong> &ndash; undeploy a space</dt>
<dd>Parameters:<p></p>
<ul>
<li>name &ndash; the name of the space</li>
</ul>
</dd>
<h4 class="impt">This command can be used to undeploy an arbitrary pu.</h4>
</dl>
<p><strong>A Little History</strong></p>
<p>In my previous work on <a href="http://blog.gigaspaces.com/gigaspaces-and-storm-part-2-xap-integration/" title="GigaSpaces and Storm Part 2: XAP Integration">Storm integration</a>, I developed a simple recipe based on a single node <span class="caps">XAP</span> deployment. This was largely to avoid the potential complexities of a full blown <span class="caps">XAP</span> recipe, and a basic Storm integration doesn&#8217;t really require more than a single node anyway.</p>
<p>Nevertheless, much of that initial recipe was useful as a starting point for the full recipe. Initially, I wanted a single service recipe to represent <span class="caps">XAP</span> in Cloudify. This approach would be the simplest from the user perspective, but in the end wasn&#8217;t doable in an elegant way. In the end, I chose a two recipe approach: a <em>xap-management</em> recipe, and a <em>xap-container</em> recipe. <em>xap-management</em> orchestrates the management services (gsm, lus, and web ui), and <em>xap-management</em> manages GSCs (containers). The management recipe serves as the hub for custom commands to perform cluster-wide operations such as deployment.</p>
<p><strong>The Recipes: Design </strong></p>
<p>Since a <span class="caps">XAP</span> cluster (excluding GSAs) consists of a few management processes, and many containers, it is logical to have (at least) two recipes: one for management and one for containers. One approach might be to simply create a recipe for every type of grid process: <span class="caps">ESM</span>, <span class="caps">GSM</span>, <span class="caps">GSA</span>, <span class="caps">LUS</span>, and <span class="caps">GSC</span>. This would supply some additional flexibility, but since only two of each at the most is recommended in grids of any size, the amount of flexibility gained from having many recipes is minimal. Also, since Cloudify itself provides <span class="caps">GSA</span> (process watchdog) and <span class="caps">ESM</span> (dynamic scaling) functionality, there is no need to start additional instances of these. This leaves the <span class="caps">GSM</span> (grid management/deployment) and the <span class="caps">LUS</span> (lookup service). For the container part, the recipe only needs to start a <span class="caps">GSC</span>. At this point in the development process, dynamic rebalancing after an autoscaling event is not addressed.</p>
<p><strong>The Recipes: <em>xap-management</em></strong></p>
<p><em>xap-management</em> starts the management services of <span class="caps">XAP</span>, the <span class="caps">GSM</span> and <span class="caps">LUS</span>. It also starts the Web UI. Currently it simply starts the gsm.sh script and uses the embedded <span class="caps">LUS</span>. One enhancement target would be to make the starting of a separate <span class="caps">LUS</span> a configuration option. The recipe is elastic with a maximum of two instances. Critical configuration items (in the xap-management-service.properties files):</p>
<ul>
<li>template &ndash; the cloud template name for the recipe to use.</li>
<li>gsm_jvm_options &ndash; java options passed to the <span class="caps">GSM</span> <span class="caps">JVM</span></li>
<li>lus_jvm_options &ndash; java options passed to the <span class="caps">LUS</span> <span class="caps">JVM</span></li>
<li>webui_jvm_options &ndash; java options passed to the <span class="caps">LUS</span> <span class="caps">JVM</span></li>
<li>uiport &ndash; the <span class="caps">HTTP</span> port for the Web UI to listen on.</li>
<li>lusport &ndash; the <span class="caps">LUS</span> port. This port essential defines and separates grid from each other and Cloudify itself. This port must be the same in both management and container recipes, and different from the <span class="caps">LUS</span> port that Cloudify uses.</li>
<li>license &ndash; if running more than the free license allows, this property must be set to a valid <span class="caps">XAP</span> license string.</li>
</ul>
<p><strong>The Recipes: <em>xap-container</em></strong></p>
<p><em>xap-container</em> start GSCs in the cluster. &nbsp;The recipe is elastic and doesn&#8217;t practically limit the number of containers that can be started. &nbsp;This recipe is much simple than the management recipe, and has no custom commands for public consumption. &nbsp;It does have a custom command for editing the node hosts file. &nbsp;This is used for providing a symbolic name for the lookup service, and reacting to management services relocations. &nbsp; Except for the jvm options above, the configuration parameters are the same. &nbsp;Since only a single process is started (a <span class="caps">GSC</span>), there is only one property to hold <span class="caps">JVM</span> options: gsc_jvm_options (which maps to the standard GSC_JAVA_OPTIONS environment variable).</p>
<p><strong>What&#8217;s Missing and What&#8217;s Next</strong></p>
<p>There are significant omissions and plans for these recipes. &nbsp;An obvious omission is partition rebalancing on a scaling event. &nbsp;Another is the need for far more metrics, and a replication gateway recipe. &nbsp;But this is a start. In future posts, I&#8217;ll describe in more detail what&#8217;s missing and why, some of the implementation war stories, and future plans.</p>
<p><strong>Conclusion</strong><br>
In my opinion, <span class="caps">XAP</span> has needed a general purpose Cloudify recipe, and this is a start in that direction. This is a work in progress. It has been tested on EC2, <span class="caps">HPCS</span>, and a <span class="caps">BYON</span> cluster. Comments and contributions are welcome, as this will be an ongoing effort. Again, the code is <a href="https://github.com/dfilppi/cloudify-recipes" title="dfilppi cloudify-recipes fork" onclick="javascript:pageTracker._trackPageview('/outgoing/github.com/dfilppi/cloudify-recipes');">here</a>, at least for now.</p>
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'cloudifysource'; // required: replace example with your forum shortname
    var disqus_identifier = '/2013/10/11/xap_on_cloudify_part_1.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>

                <div class="clear"></div>
            </div>
        </div>

        <!--Start pagination -->

        <div class="clear"></div>

        <!--Start Footer -->

        <div class="footer">
    <!--<ul class="footerLeftMenu">
        <li class="footerli"><a href="#">About GigaSpaces</a></li>
        <li class="footerli"><a href="#">Contact Us</a></li>
    </ul> -->
    <ul class="footerRightMenu">
        <li class="footerli">Copyright © 2012 GigaSpaces. All rights reserved.</li>
        <li class="footerli"><a href="/about_us">About Us</a></li>
        <li class="footerli">|</li>
        <li class="footerli"><a href="/terms_of_use">Terms of Use</a></li>
        <li class="footerli">|</li>
        <li class="footerli"> <a href="/privacy_policy">Privacy Policy</a></li>
        <li class="footerli">|</li>
        <li class="footerli"> <a href="http://www.gigaspaces.com" target="_blank">GigaSpaces.com</a></li>
        <li class="footerli">|</li>
        <li class="footerli"> <a href="http://www.gigaspaces.com/cloudify-go-pro" target="_blank">PRO Support Packages</a></li>


    </ul> 
    <ul class="footerSocialMenu">
        <li class="footerFb"><a href="https://www.facebook.com/GigaSpaces?sk=app_201742856511228" target="_blank"></a></li>
        <li class="footerRss"><a href="/atom.xml" target="_blank"></a></li>
        <li class="footerTwitt"><a href="http://www.twitter.com/cloudifysource" target="_blank"></a></li>
        <li class="footerYt"><a href="http://www.youtube.com/cloudifysource" target="_blank"></a></li>
        <li class="footerMell"><a alt="Contact-us" title="Contact-us" href="mailto:info@cloudifysource.org?Contact-us from cloudifysource website" target="_blank"></a></li>
        <li class="footerTumblr"><a href="http://cloudifysource.tumblr.com" target="_blank"></a></li>
    </ul>
</div>

<script type="text/javascript" language="javascript">llactid=12206</script>
<script type="text/javascript" language="javascript" src="http://t6.trackalyzer.com/trackalyze.js"></script> 



    </div>
    <!--End site wrapper -->


</div>
<!--End site bg top wrapper -->
</body>
</html>
