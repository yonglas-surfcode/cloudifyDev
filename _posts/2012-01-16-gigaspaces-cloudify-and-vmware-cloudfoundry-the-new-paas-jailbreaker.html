---
layout: blogpost
title: GigaSpaces Cloudify and VMware CloudFoundry the new PaaS Jailbreaker
image: nati.png
author: Nati Shalom
tags: 
 - Cloudify
 - PaaS
 - CloudFoundry
 - Open PaaS
 - DevOps
---


<div xmlns="http://www.w3.org/1999/xhtml">
  <p>I was reading <a href="http://www.cloudave.com/author/krishnan/">Krishnan </a><a href="http://www.cloudave.com/author/krishnan/">Subramanian</a>'s post, <a href="http://www.cloudave.com/16494/two-events-that-clouded-our-thinking-in-2011/" rel="bookmark" title="Two Events That “Clouded” Our Thinking In 2011">Two Events That "Clouded" Our Thinking In 2011</a>. The thing that caught my attention was Krishnan's comments on why PaaS is a superior alternative to DevOps: </p>
	<blockquote>
		<p>The shift in the thinking about the enterprise cloud consumption also poured water into the &ldquo;DevOps&rdquo; concept advocated by vendors and pundits with their foot in the IaaS world. When organizations embrace PaaS instead of infrastructure services, we don&rsquo;t need the DevOps marriage and the associated cultural change (believe me, this cultural change is giving sleepless nights to many IT managers and some consultants are even making money helping organizations realize this cultural change). With PaaS, organizations can keep the existing distinction between the Ops and Dev teams without worrying about the cultural change. In fact, with cloud computing, the role of the Ops is not going away but it stays in the background offering an interface which developers can manage themselves.</p>
	</blockquote>
	<p>Krishnan represents one of the common attitudes and subjects of debate between two main paradigms for developing and managing applications on the cloud:</p>
	<ul>
		<li><strong>PaaS</strong> -- PaaS takes a developer, application-driven approach. A PaaS platform provides generic application containers to run your code. The PaaS platforms deals with all the operational aspects needed to run your code such as deployment, scaling, fail-over, etc.</li>
		<li><span style="color: #000088;"><strong><span style="color: black;">DevOps</span></strong> -- <span style="color: black;">DevOps takes a more operations-driven approach. With DevOps, you get tools to automate your operational environment through scripts and recipes, and keep full visability and control over the underlying infrastructure.</span></span></li>
	</ul>
	<h2>The Difference Between PaaS and DevOps</h2>
	<p>Both PaaS and DevOps aim toward the same goal -- reducing the complexity of managing and deploying applications on the cloud. But they take a fairly different approach to deliver on that promise.</p>
	<p><a href="http://www.linkedin.com/profile/view?id=93550&amp;authType=NAME_SEARCH&amp;authToken=RKgJ&amp;locale=en_US&amp;srchid=372c8304-ab92-4983-bb97-38a8ace29e08-0&amp;srchindex=1&amp;srchtotal=60&amp;goback=.fps_PBCK_*1_Christopher_Keene_*1_*1_*1_*1_*2_*1_Y_*1_*1_*1_false_1_R_*1_*51_*1_*51_true_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2&amp;pvs=ps&amp;trk=pp_profile_name_link">Christoper Knee </a> summarized it in his blog post <a href="http://www.keeneview.com/2011/08/devops-and-paas-friend-or-foe.html">DevOps and PaaS -- Friend or Foe?</a> as the difference between Developers and SysAdmin:</p>
	<ul>
		<li>Developers may ask: &quot;if I have a self-service portal for deploying applications (aka PaaS), do I need SysAdmins at all?&quot;</li>
		<li>SysAdmins may ask: &quot;isn't PaaS just a monstrous black box that prevents me from provisioning the specific services we need to deploy real-world apps?&quot; ... The typical SysAdmin thinks that they can get to 75% of PaaS functionality with DevOps tools like <a href="https://github.com/opscode/chef">Chef</a> without giving up any systems architecture flexibility.</li>
	</ul>
	<p>In one of my earlier post on the subject, <a href="http://natishalom.typepad.com/nati_shaloms_blog/2011/03/productivity-vs-control-tradeoffs-in-paas.html">Productivity vs. Control tradeoffs in PaaS</a>, I tried to outline the main limitation of most of the current &quot;blackbox PaaS&quot; implementations:</p>
	<blockquote>
		<p>I thought that Carlos Ble's post <a href="http://www.carlosble.com/2010/11/goodbye-google-app-engine-gae/">Goodbye Google App Engine (GAE)<img alt="" id="snap_com_shot_link_icon" src="http://www.previewshots.com/images/v1.3/t.gif" /></a> is a good example that illustrates why the initial perception behind GAE as a simple platform that provides extreme productivity can be completely wrong.</p>
		<blockquote>
			<p>...developing on GAE introduced such design complexity that working around it pushes us 5 months behind schedule.</p>
		</blockquote>
		<p>Part of the reason that brought Carlos through that experience IMO is that in the course of trying to make GAE extremely productive the owner made the platform too opinionated, to the point where you lose all the potential productivity gains by trying to adopt their model. In addition, with a platform like GAE you have very little freedom to leverage existing frameworks such as your own database, or messaging system, or any other third-party service that can in itself be a huge contributor to productivity.</p>
		<p>Instead, you're completely dependent on the platform provider's stack and pace of development, and that in itself can work against agility and productivity in yet another dimension. In this specific example, Carlos couldn&rsquo;t use a specific version of a Python library that would have made his productivity higher, and instead had to work around issues that were already solved elsewhere. This is a good example how the lack of flexibility leads to poorer productivity even in the case of simple applications.</p>
	</blockquote>
	<h2>Putting DevOps &amp; PaaS togatehr </h2>
	<div>It looks like more people in the the industry have come to recognize that rather than looking at DevOps and PaaS as two competing paradigms, it might be best to combine the two, as <a href="http://www.linkedin.com/profile/view?id=93550&amp;authType=NAME_SEARCH&amp;authToken=RKgJ&amp;locale=en_US&amp;srchid=372c8304-ab92-4983-bb97-38a8ace29e08-0&amp;srchindex=1&amp;srchtotal=60&amp;goback=.fps_PBCK_*1_Christopher_Keene_*1_*1_*1_*1_*2_*1_Y_*1_*1_*1_false_1_R_*1_*51_*1_*51_true_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2&amp;pvs=ps&amp;trk=pp_profile_name_link">Christoper Knee</a> pointed out in his post:</div>
	<div> </div>
	<blockquote>
		<div>What if you could get a PaaS that wasn't a black box, enabling developers to deploy apps easily while still giving SysAdmins the ability to provision any services they needed (a la <a href="http://www.cloudfoundry.org/">Cloud Foundry</a>)?</div>
	</blockquote>
	<div>I also came to that realization myself, as I pointed out in my <a href="http://natishalom.typepad.com/nati_shaloms_blog/2011/12/2012-cloud-paas-nosql-predictions.html"> 2012 predictions</a>: </div>
	<blockquote>
		<div>In 2012, we&rsquo;ll see many of the DevOps tools, such as Chef and Puppet, integrated into application platforms, making it easier to deploy complex applications onto the cloud. In the same way, we&rsquo;re going to see more Application Platforms adopting the automation and recipe model from the DevOps world into the application platform. The latter have the potential to transform the opinionated PaaS offerings as we know them today, with Heroku and GAE leading that trend, into a more open PaaS offering that better fits the way users develop apps today, and provide more freedom to choose your own stack, cloud, and application blueprint.</div>
	</blockquote>
	<h2> </h2>
	<div>
		<h2>What Makes a Cloudify and CloudFoundary a PaaS Jailbreaker?</h2>
	</div>
	<div>The CIO Maginze article <span style="font-family: Arial, sans-serif; line-height: 28px; font-size: 10pt;"><a href="http://www.cio.com.au/article/409290/cloud_computing_disrupts_vendor_landscape/">Cloud computing disrupts the vendor landscape</a> </span><span style="font-family: Arial, sans-serif; line-height: 28px; font-size: 10pt;">defines a new class of </span>PaaS platforms that I think represent the definition for a DevOps PaaS:</div>
	<blockquote>
		<div>A PaaS that allows developers to use whatever tool they want to build their cloud applications and the platform tackles the deployment, scaling and management of these apps in the cloud data center.</div>
	</blockquote>
	<div>VMware CloudFoundry is one of the more notable references in that category. Quoting <a href="http://www.linkedin.com/profile/view?id=93550&amp;authType=NAME_SEARCH&amp;authToken=RKgJ&amp;locale=en_US&amp;srchid=372c8304-ab92-4983-bb97-38a8ace29e08-0&amp;srchindex=1&amp;srchtotal=60&amp;goback=.fps_PBCK_*1_Christopher_Keene_*1_*1_*1_*1_*2_*1_Y_*1_*1_*1_false_1_R_*1_*51_*1_*51_true_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2_*2&amp;pvs=ps&amp;trk=pp_profile_name_link">Christoper Knee</a>:</div>
	<blockquote>
		<div>CloudFoundry runs anywhere, incuding on your laptop. CloudFoundry's service container concept is particularly strong, kind of an appliance on steroids.</div>
	</blockquote>
	<div>
		<p>These ideas were the founding concept behind <a href="http://www.gigaspaces.com/wiki/display/CLOUD/Cloudify+Documentation+Home">Cloudify</a>, i.e. putting DevPops &amp; PaaS togather in a single framework. As with CloudFoundry, Cloudify enables you to break away from the &quot;blackbox PaaS&quot;. However, even though CloudFoundry is significantly more open than most other PaaS alternatives, at the core it is still based on the &quot;my way or the highway&quot; approach (aka opininated architecture), which forces you to fit into a specific blueprint that is mandated by the platform. Cloudify, on other hand, pushes the envelope even further by adopting the concpet of <a href="http://www.gigaspaces.com/wiki/display/CLOUD/The+Application+Recipe">recipes</a> that was first introduced by DevOps frameworks such as Chef and Puppet. It introduces  more application-driven recipes through the introduction of Domain Specific Language that extends upon the groovy language.</p>
		<p>The Cloudify <a href="http://www.gigaspaces.com/wiki/display/CLOUD/The+Application+Recipe">recipes</a> give you the full power to plug in any application stack on any cloud (including a non-virtualized environment) and manage them in similar way to the way you would manage them in your own datacenter or machines. You can also call Chef and Puppet from within the recipes. All this, without hacking the framework itself. As with other similar DSLs, the Cloudify DSL was designed to express even the most complex application management tasks, such as &lt;recovery from a data center failure&gt; in a single line and avoid all the verbose script and API calls that are often involved when you work at the infrastructure level.</p>
		<p><span style="font-family: verdana, geneva; font-size: 10pt;"><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">All this makes </span></strong><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Cloudify an even more open alternative that fits a large variety of the current enterprise application stacks, including:</span></strong></span></p>
		<div style="background-color: transparent;">
			<ol style="font-family: Times; font-size: medium;">
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">JEE applications</span></strong></li>
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">Big Data applications</span></strong></li>
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">Multi-tier applications</span></strong></li>
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">Native applications (C++,..)</span></strong></li>
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">.Net, Ruby, Python, PHP applications</span></strong></li>
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">Multi-site applications</span></strong></li>
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">Low-latency applications (that can't run on VMs)</span></strong></li>
			</ol>
			<p><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">It also makes Cloudify more open for special customization of the existing stack, like in the case of:</span></strong></p>
			<ol style="font-family: Times; font-size: medium;">
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">An application that needs a certain version of MySQL (not the one that comes with the framework)</span></strong></li>
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">An application that needs to run on Redhat (not Ubuntu). or even more interesting -- a case where there are mutiple applications, each needing a different OS served at the same time.</span></strong></li>
			</ol>
			<p><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">Cloudify also provides a more advanced level of control geared for mission-critical apps, including:</span></strong></p>
			<ol style="font-family: Times; font-size: medium;">
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">Monitoring the application stack and topology</span></strong></li>
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">Adding custom application metrics</span></strong></li>
				<li><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="color: #000000; background-color: transparent; font-weight: normal; font-style: normal; font-variant: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap; font-family: verdana, geneva; font-size: 10pt;">Adding custom SLAs</span></strong></li>
			</ol>
			<p><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;"><span style="font-family: verdana, geneva; font-size: 10pt;">It can also work on wide variety of cloud environments, including Microsoft Azure and non-virtual enviroments.</span></strong></p>
			<p><span style="font-family: verdana, geneva; font-size: 10pt;"><strong id="internal-source-marker_0.9225309891626239" style="font-weight: normal;">One of the great powers of the </strong><a href="http://www.gigaspaces.com/wiki/display/CLOUD/The+Application+Recipe">recipe</a><strong style="font-weight: normal;"> is that it is a great collaboration tool. Once you develop a recipe, it is very easy to share it wtih different groups -- whether internal groups like developement, QA, and operations, where the recipie provides a programmatic definition of thier environment, or it can be shared between the product team and the pro-services team, where your sales and pro-services can easily install and update product versions in a consistent way, as well as reproduce customer scenarios and share them with the support team. Recipes are also a great tool for collaboration through a wider community network, where users can collaborate by sharing common recipes and best practices over the web.</strong></span></p>
			<h2>Quick Introduction to Cloudify Recipes</h2>
			<p>Below is a short snippet that shows a simple application recipe, of a typical java-based web application based on JBoss as the web container and MySQL as a database. The application recipe describes the services that comprise the application, and thier dependencies. The details on how to run MySQL and JBoss is provided in a seperate recipe for each of the individual services. A more detailed description of how a service recipe would look like can be seen <a href="http://www.gigaspaces.com/wiki/display/CLOUD/The+Service+Recipe">here</a>. </p>
			<pre class="code-java" style="margin-top: 10px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; text-align: left; overflow-x: auto; overflow-y: auto; font-family: 'Courier New', Courier, monospace; line-height: 1.3; padding: 0px;">application {
       name=<span class="code-quote" style="color: #009100; background-color: inherit;">&quot;simple app&quot;</span></pre><pre class="code-java" style="margin-top: 10px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; text-align: left; overflow-x: auto; overflow-y: auto; font-family: 'Courier New', Courier, monospace; line-height: 1.3; padding: 0px;">       service {
              name = <span class="code-quote" style="color: #009100; background-color: inherit;">&quot;mysql-service&quot;</span>
      }
       service {

              name = <span class="code-quote" style="color: #009100; background-color: inherit;">&quot;jboss-service&quot;</span>
              dependsOn = [<span class="code-quote" style="color: #009100; background-color: inherit;">&quot;mysql-service&quot;</span>]
       }
}</pre>
			<p>To get a taste, you can try one of the available recepes such as Cassandra, MongoDB, Tomcat, JBoss, Solar, etc., just as a simple way to <a href="http://www.gigaspaces.com/wiki/display/CLOUD/Cloudify+2.0+Early+Access+Download">try out</a> these products on your own desktop or on any of the supported clouds, without the hassle that is often involved in doing so and without even direct relation to Cloudify per-se.</p>
			<p> </p>
		</div>
	</div>
	<h2>References</h2>
	<ul>
		<li><span style="font-family: arial, helvetica, sans-serif; font-size: 10pt;"><a href="http://natishalom.typepad.com/nati_shaloms_blog/2011/03/productivity-vs-control-tradeoffs-in-paas.html">Productivity vs. Control tradeoffs in PaaS</a></span></li>
		<li><span style="font-family: arial, helvetica, sans-serif; font-size: 10pt;"><a href="http://www.keeneview.com/2011/08/devops-and-paas-friend-or-foe.html">DevOps and PaaS - Friend or Foe?</a></span></li>
		<li><span style="font-family: arial, helvetica, sans-serif; font-size: 10pt;"><a href="http://natishalom.typepad.com/nati_shaloms_blog/2011/01/paas-shouldnt-be-built-in-silos.html">PaaS shouldn&rsquo;t be built in Silos</a></span></li>
		<li><span style="font-family: arial, helvetica, sans-serif; font-size: 10pt;"><a href="http://www.cloudave.com/16494/two-events-that-clouded-our-thinking-in-2011/" rel="bookmark" title="Two Events That “Clouded” Our Thinking In 2011">Two Events That &ldquo;Clouded&rdquo; Our Thinking In 2011</a></span></li>
		<li><span style="line-height: 28px; font-family: arial, helvetica, sans-serif; font-size: 10pt;"><a href="http://www.cio.com.au/article/409290/cloud_computing_disrupts_vendor_landscape/">Cloud computing disrupts the vendor landscape</a></span></li>
		<li><span style="font-family: arial, helvetica, sans-serif; font-size: 10pt;"><a href="http://www.gigaspaces.com/wiki/display/CLOUD/Cloudify+Documentation+Home">Cloudify docs</a></span></li>
	</ul>
</div>
<div class="feedflare"><a href="http://feeds.feedburner.com/~ff/NatiShalom?a=PpZ-XgXeM9M:VLNTvcn38Dg:yIl2AUoC8zA"><img border="0" src="http://feeds.feedburner.com/~ff/NatiShalom?d=yIl2AUoC8zA" /></a> <a href="http://feeds.feedburner.com/~ff/NatiShalom?a=PpZ-XgXeM9M:VLNTvcn38Dg:qj6IDK7rITs"><img border="0" src="http://feeds.feedburner.com/~ff/NatiShalom?d=qj6IDK7rITs" /></a></div>
<p><img height="1" src="http://feeds.feedburner.com/~r/NatiShalom/~4/PpZ-XgXeM9M" width="1" /></p>
