<!DOCTYPE html>
<html lang="en">
<head>
    
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>	
	<title>Cloudify - Cloud integration and DevOps automation experience shared</title>
	<script src="//cdn.optimizely.com/js/59503762.js"></script>
	
	<link rel="canonical" href="http://www.cloudifysource.org/posts/2012-05-13-cloud_integration_and_devops_automation.html"/>	
	<!-- custom -->
	<!--<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/atom.xml" />-->
	<link rel="canonical" href="http://www.cloudifysource.org/index.html"/>	
	<link rel="shortcut icon" href="/ico/favicon.png" type="image/x-icon" />
	<!-- css -->
	<link href="/css/bootstrap.css" rel="stylesheet" />
	<link href="/css/bootstrap-responsive.css" rel="stylesheet" />
	<link href="/css/fancybox/jquery.fancybox.css" rel="stylesheet">
	<link href="/css/jcarousel.css" rel="stylesheet" />
	<link href="/css/flexslider.css" rel="stylesheet" />
	<link href="/css/cslider.css" rel="stylesheet" />
	<link href="/css/style.css" rel="stylesheet" />
	<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
	<!-- Theme skin -->
	<link id="t-colors" href="/skins/blue.css" rel="stylesheet" />
	<!-- boxed bg -->
	<link id="bodybg" href="/bodybg/bg1.css" rel="stylesheet" type="text/css" />
	<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
		  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	<!-- Fav and touch icons -->
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png" />
	<link rel="shortcut icon" href="/ico/favicon.png" />
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
	<script src="/js/jquery.js"></script>
	<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
</head>

<body>
<div class="WrapperBg">    
    <div class="Wrapper">
        <!-- toggle top area -->
	<div class="hidden-top">
		<div class="hidden-top-inner container">
			<div class="row">
				<div class="span12">
					<ul>
						<li><strong><i class="icon-briefcase"></i>Go Pro! Find out about</strong><a class="black" href="goPro.html"> Enterprise Cloudify</a></li>
						</ul>
					</div>
			</div>
		</div>
	</div>
	
	<!-- end toggle top area -->
	<!-- start header -->
	<header class=" grayGrediant ">
	<div class="container ">
	
		<!-- hidden top area toggle link -->
		<div id="header-hidden-link">
			<a href="#" class="toggle-link" title="Go Pro with Enterprise Cloudify" data-target=".hidden-top">
			<i class="fa fa-plus"></i></a>
			<a class="toggle-link dwnBtn" href="/downloads/previous_ga_versions.html" data-toggle="tooltip" data-placement="bottom" title="Get the GA Release"><i class="fa-cloud-download"></i></a>
			<a class="toggle-link dwnBtn" href="/downloads/get_cloudify.html" data-toggle="tooltip" data-placement="bottom" title="Get the Latest Milestone Build">
				<i class="fa-download"></i></a>
			<div class="widget cdsearch">
			<form id="searchForm" class="form-search" action="#" method="get">
				<input placeholder="Search..." type="text" class="input-medium search-query ">
				<button id="goBtn" type="submit" class=" btn goBtn"><i class="iconsearch"></i></button>
			</form>
		</div>	
		</div>
		<!-- end toggle link -->
		
			
				
			
				
		
		
			
				<div class="logo navbar-toggle">
					<a href="index.html"><img src="/img/logo.png" alt="" class="logo" /></a>
				</div>
			
			  <nav class="navbar navbar-default" role="navigation">
                  <!-- Brand and toggle get grouped for better mobile display -->
                  <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                      <span class="sr-only">Toggle navigation</span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                    </button>
                    
                    
                  </div>		
					<!--<<div class="cdnavbar navbar  navbar-default" role="navigation">
							
								<div class="navigation navigation-bottom">
								nav>-->
									<!-- <ul class="nav topnav bold">-->
                    <div class="cdnavbar collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                                    <ul class="nav navbar-nav">
                                        <li class="cloudifyLogo"><a href="index.html"><img src="/img/logoSmall.png" alt=""  /></a></li>
										<li class="dropdown active">
										<a href="https://cloudifysource.zendesk.com/forums" target="_blank">Support Forums</a>
										</li>
										<li class="dropdown">
										<a href="doc.html">Docs<i class="icon-angle-down"></i></a>
										<ul class="dropdown-menu bold" style="display: none;">
											<li><a href="#">2.3</a></li>
											<li><a href="#">2.5</a></li>
											<li><a href="/guide/2.6/qsg/qsg.html">2.6</a></li>
											<li><a href="#">2.7</a></li>
										</ul>
										</li>
										<li>
											<a href="/how/index.html">How it Works</a>
										</li>
										<li class="dropdown">
										<a href="#">Blog + Other Stuff <i class="icon-angle-down"></i></a>
										<ul class="dropdown-menu bold">
										<li><a href="blog-right-sidebar.html">Blog</a></li>
										<li><a href="#">The Cloudify Player</a></li>
										<li><a href="video.htm">Videos & Tutorials</a></li>
										<li><a href="participate.htm">Events</a></li>
										</ul>
										</li>
										
										<li>
											<a href="http://www.gigaspaces.com/cloudify" target="_blank"><strong>.Com</strong></a>
										</li>
										
									</ul>
				</div> 
        <!-- /.navbar-collapse -->
</nav>
</div>
		
</header>	
<!-- end header -->	
		
			<section id="inner-headline">
	<div class="container">
		<div class="row">
			<div class="span4">
				<div class="inner-heading">
					<h2><i class="icon-edit"></i>Cloudifysource<strong> Blogs</strong></h2>
				</div>
			</div>
			<div class="span8">
				<ul class="breadcrumb">
					<li><a href="#"><i class="icon-home"></i></a><i class="icon-angle-right"></i></li>
					<li><a href="#">Blog</a><i class="icon-angle-right"></i></li>
					<li class="active">Cloud integration and DevOps automation experience shared</li>
				</ul>
			</div>
		</div>
	</div>
	</section>
	
	<section id="content">
	<div class="container">
			<div class="row">
				<!-- Blog Right side posts -->
				<div class="span9">
					<div id="resultsDiv" class="DocumentsWrap"></div>
					<div id="pageContent" class="DocumentsWrapRight">
					
					<h1 class="pageTitle">Cloud integration and DevOps automation experience shared</h1>
					 
					  <span class="blogPostInfo">Posted By: <a href="#">Dotan Horovits</a>  on  ,   
					  </span>
					  <br/><br/><br/>
					 
                    <div class="post-117 post type-post status-publish format-standard hentry category-cloud category-devops category-iaas category-paas tag-apache tag-cloudify tag-ec2 tag-jclouds tag-jersey tag-jsch tag-openstack tag-rackspace tag-rest tag-vfs" id="post-117">
<p><h1 class="entry-title">Cloud integration and DevOps automation experience&nbsp;shared</h1></p>
<div class="entry entry-content">
						<p>The Cloud carries the message of automation to system architecture. The ability to spin up VMs on demand and take them down when no longer needed as per the applications&#8217; real-time requirements and metrics is the key for making the system truely elastic, scalable and self-healing. When using external IaaS providers, this also saves the hassle of managing the IT aspects of the on-demand infrastructure.</p>
<p>But with potential of automation comes the challenge of integrating with the cloud provider (or providers) and automating the management of the VMs, dealing with DevOps aspects such as accessing the VM, transferring contents to it, performing installations, running and stopping processes on it, coordinating between the services, etc. On this post I&#8217;d like to share with you some of my experience integrating with IaaS cloud providers, as part of my work with customers using the open source <a href="http://www.cloudifysource.org" title="cloudifysource.org">Cloudify</a> PaaS product. Cloudify provides out-of-the-box integration with many popular cloud providers, such as&nbsp;<a href="http://aws.amazon.com/" oncontextmenu="mugicRightClick(this);" onclick="return mugicPopWin(this,event);">Amazon EC2</a>&nbsp;and&nbsp;<a href="http://www.rackspace.com/">The Rackspace Cloud</a>,&nbsp;as well as integration with the popular&nbsp;<a href="http://www.jclouds.org/">jclouds</a>&nbsp;framework and <a href="http://openstack.org/" title="openstack.org">OpenStack</a>&nbsp;open&nbsp;standard. But when encountering an emerging cloud provider or standard, you just need to pull up your sleeves and write your own integration. As a best practice, I use Java for the cloud integration and try to leverage on well-proven and community-backed open source projects wherever possible. Let&#8217;s see how I did it.</p>
<p>First we need to integrate with the IaaS <span class="caps">API</span> to enable automation of resource allocation and deallocation.&nbsp;The main integration point is called a <a href="http://www.cloudifysource.org/guide/2.1/clouddrivers/cloud_driver.html">Cloud Driver</a>, which is basically a Java class that adheres to a <a href="http://www.cloudifysource.org/guide/2.1/clouddrivers/developing_custom_clouddriver.html" title="Developing a custom cloud driver">simple <span class="caps">API</span></a> for accessing the cloud for resources. Various clouds expose various APIs for accessing them. Programmatic access is native and easy to implement from the Cloud Driver code. <span class="caps">REST</span> <span class="caps">API</span> is also quite popular, in which cases I found the <a href="http://jersey.java.net/" title="Apache Jersey">Apache Jersey</a> client open source library quite convenient for implementing a <a href="http://www.mkyong.com/webservices/jax-rs/restful-java-client-with-jersey-client/">RESTful client</a>. Jersey is based on <a href="http://docs.oracle.com/javaee/6/tutorial/doc/giepu.html" title="Building RESTful Web Services with JAX-RS"><span class="caps">JAX</span>-RS</a> Java community standard, and offers easy handling of various flavors of calls, cookie handling, policy governance, etc.&nbsp;Cloudify offers a convenient&nbsp;<a href="https://gist.github.com/1770098" title="DSL example">Groovy-based <span class="caps">DSL</span></a>&nbsp;that enables you to configure the cloud provider&#8217;s parameters and properties in a declarative and easy-to-read manner, and takes care of the wiring for you. When writing your custom cloud driver you should make sure to sample and use the values from the Groovy (you can add custom properties as needed), so after the cloud driver is ready for a given cloud provider, you can use it in any deployment by simply setting the configuration.&nbsp;I used the source code of the cloud drivers on CloudifySource public&nbsp;<a href="https://github.com/CloudifySource/cloudify">GitHub repository</a>, as a great source of reference for writing my cloud driver.</p>
<p>The next DevOps aspect of the integration is accessing the VMs and managing them. Linux/Unix VMs are accessed via <span class="caps">SSH</span> for executing scripts, and uses <span class="caps">SFTP</span> for file transfer. For generic file transfer layer there&#8217;s the&nbsp;<a href="http://commons.apache.org/vfs/" title="Apache VFS">Apache Commons VFS2</a> (Virtual File System), which offers a&nbsp;uniform view of the files from various different sources (local FS, remote over <span class="caps">HTTP</span>, etc.). For remote command execution over <span class="caps">SSH</span> there&#8217;s <a href="http://www.jcraft.com/jsch/">JCraft&#8217;s JSch</a> library, providing a Java implementation of SSH2. Authentication also needs to be addressed with the above. Luckily, many of these things that we used to do manually as part of DevOps integration are new being taken care of by Cloudify. Indeed, there&#8217;s still much integration headache with ports not opened, passwords incorrect etc. which takes up most of the time, and more logs are definitely required in Cloudify to figure things out and troubleshoot. What I did is I simply forked the <a href="https://github.com/CloudifySource/cloudify">open source project from GitHub</a> and debugged right through the code, which has the side benefit of &nbsp;fixing and improving the project on the fly and contributing back to the community. I should mention that although the environments I integrated with where Linux-based, Cloudify also provides support for Windows-based systems (based on WinRM, <span class="caps">CIFS</span> and PowerShell).</p>
<p>One of the coolest things added in Cloudify 2.1 that was <a href="http://www.cloudifysource.org/2012/05/01/whats_new_in_cloudify_2_1.html">launched last week</a> was the <a href="http://www.cloudifysource.org/guide/2.1/bootstrapping/bootstrapping_byon.html"><span class="caps">BYON</span> (Bring Your Own Node) driver</a>, which allows you to take your&nbsp;existing bare-metal servers and use them as managed resources for deployment by Cloudify, as if they were on-demand resources. This provides a neat answer to the <a href="http://www.infoworld.com/d/cloud-computing/going-native-the-move-bare-metal-cloud-services-192507" title="InfoWorld: Going native: The move to bare-metal cloud services">growing demand for bare-metal cloud services</a>. I&#8217;m still waiting for the opportunity to give this one a wet run with a customer in the field&#8230;</p>
<p>All in all, it turned out to be a straight-forward task to integrate with a new cloud provider. Just make sure you have a stable environment and a test code on how to consume the APIs, and use the existing examples as reference, and you&#8217;re good to go.</p>
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'cloudifysource'; // required: replace example with your forum shortname
    var disqus_identifier = '/posts/2012-05-13-cloud_integration_and_devops_automation.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

					
					
					</div>			
				</div>	
				
				<!-- Blog Left side coll -->
				<div class="span3">
					<aside class="right-sidebar">
						<!--Event groups-->



<div class="leftContentBox blogLeft-topTitle">
	<h3>Recent Posts</h3>
</div>


<div class="leftContentBox blogLeftBox"> 
 		
</div>

               <!--start -->
                 <div class="leftContentBox blogLeft-topTitle blog-left-title2 tumblr">
                        <h3>CloudifySource on Tumblr</h3>
                 </div>   
                <div class="leftContentBox tumblrFeed">                     
                
                </div>
<!--end-->


<div class="leftContentBox blogLeft-topTitle">
	<h3>Archived Posts</h3>
</div>

 <ul class="blog-archive-list">
 
 




 
 </ul>
					</aside>
				</div>
			</div>	
	</div>	
	</section>	
	<div class="clear"></div>
	<!--Start Footer -->
		<footer>
	<div class="container">
		<div class="row">
			<div class="span3">
				<div class="widget">
					<h5 class="widgetheading">Browse pages</h5>
					<ul class="link-list">
						<li><a href="about.html">About Us</a></li>
						<li><a href="goPro.html">Enterprise Cloudify</a></li>
						<li><a href="cloudifyrecipecatalog.html">Cloudify Test Drive</a></li>
						<li><a href="how.html">How it Works</a></li>
						<li><a href="#">Get in touch with us</a></li>
					</ul>
				</div>
			</div>
			<div class="span3">
				<div class="widget">
					<h5 class="widgetheading">Important stuff</h5>
					<ul class="link-list">
						<li><a href="#">Press & Coverage</a></li>
						<li><a href="http://www.cloudifysource.org/terms_of_use">Terms of Use</a></li>
						<li><a href="http://www.cloudifysource.org/privacy_policy">Privacy policy</a></li>
						<li><a href="#">Github Repo</a></li>
						<li><a href="https://cloudifysource.zendesk.com/home" target="_blank">Support forums</a></li>
					</ul>
				</div>
			</div>
			<div class="span3">
				<!--<div class="widget">
					<h5 class="widgetheading">Flickr photostream</h5>
					<div class="flickr_badge">
						<script type="text/javascript" src="http://www.flickr.com/badge_code_v2.gne?count=8&amp;display=random&amp;size=s&amp;layout=x&amp;source=user&amp;user=34178660@N03"></script>
					</div>
					<div class="clear">
					</div>
				</div>-->
			</div>
			<div class="span3">
				<div class="widget">
					<h5 class="widgetheading">Get in touch with us</h5>
					<strong>Where to get support</strong><br>
					 	<p>
						<i class="icon-comments-alt"></i><a href="https://cloudifysource.zendesk.com/home" target="_blank"> Support forums</a><br>
						<i class="icon-envelope-alt"></i> info@cloudifysource.org<br>
						<i class="fa fa-stack-overflow"></i><a href="http://stackoverflow.com/questions/tagged/cloudify"target="_blank"> Stack Overflow</a><br>
						<i class="icon-user"></i><a href="https://cloudifysource.zendesk.com/login?return_to=https%3A//cloudifysource.zendesk.com/home" target="_blank">Login</a> / <a href="https://cloudifysource.zendesk.com/registration" target="_blank">Register</a>

					</p>
				</div>
			</div>
		</div>
	</div>
	<div id="sub-footer">
		<div class="container">
			<div class="row">
				<div class="span6">
					<div class="copyright">
						<p>
							<span>&copy; Flattern 2013 All right reserved. Designed by</span><a href="http://iweb-studio.com" target="_blank">iweb-studio</a>
						</p>
					</div>
				</div>
				<div class="span6">
					<ul class="social-network">
						<li><a href="https://www.facebook.com/GigaSpaces?sk=app_201742856511228" data-placement="bottom" title="Facebook"><i class="icon-facebook icon-square"></i></a></li>
						<li><a href="https://twitter.com/intent/follow?screen_name=cloudifysource" data-placement="bottom" title="Twitter"><i class="icon-twitter icon-square"></i></a></li>
						<li><a href="http://www.tumblr.com/follow/cloudifysource" data-placement="bottom" title="Tumblr"><i class="fa-tumblr icon-square"></i></a></li>
						<li><a href="http://www.youtube.com/cloudifysource" data-placement="bottom" title="YouTube"><i class="fa-youtube icon-square"></i></a></li>						
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div class="clear"></div>
	</footer>




			
	</div>
</body>
</html>
